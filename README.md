# ç»„ç»‡é¢†å¯¼åŠ›æµ‹è¯„ç³»ç»Ÿ (Gateway Test)

è¿™æ˜¯ä¸€ä¸ªåŸºäº NestJS (åç«¯) å’Œ Vue 3 (å‰ç«¯) çš„ç»„ç»‡é¢†å¯¼åŠ›æµ‹è¯„ç³»ç»Ÿã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹ (æ¨èä½¿ç”¨ Docker)

æœ¬é¡¹ç›®æ”¯æŒä½¿ç”¨ Docker Compose ä¸€é”®å¯åŠ¨ï¼Œæ— éœ€æ‰‹åŠ¨å®‰è£… Node.js æˆ– PostgreSQLã€‚

### å‰ç½®æ¡ä»¶
- ç¡®ä¿æœ¬åœ°å·²å®‰è£… [Docker Desktop](https://www.docker.com/products/docker-desktop/) æˆ– Docker Engineã€‚

### å¯åŠ¨æ­¥éª¤

1.  **å…‹éš†ä»£ç åº“**
    ```bash
    git clone https://github.com/Mephisto1056/GatewayTest.git
    cd GatewayTest
    ```

2.  **é…ç½®ç¯å¢ƒå˜é‡**
    å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶ï¼š
    ```bash
    cp .env.example .env
    ```
    *ä½ å¯ä»¥åœ¨ `.env` æ–‡ä»¶ä¸­ä¿®æ”¹æ•°æ®åº“å¯†ç æˆ– SMTP é‚®ä»¶é…ç½®ã€‚å¦‚æœæš‚æ—¶ä¸éœ€è¦å‘é€é‚®ä»¶ï¼Œå¯ä»¥ä¿æŒé»˜è®¤ã€‚*

3.  **å¯åŠ¨æœåŠ¡**
    åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š
    ```bash
    docker-compose up -d --build
    ```
    **æ³¨æ„**: å¦‚æœé‡åˆ° `permission denied` é”™è¯¯ï¼Œè¯·å°è¯•åœ¨å‘½ä»¤å‰åŠ ä¸Š `sudo`ï¼Œæˆ–å‚è€ƒ [æ•…éšœæ’é™¤æŒ‡å—](æ•…éšœæ’é™¤æŒ‡å—.md#é—®é¢˜0docker-å¯åŠ¨æŠ¥é”™-permission-denied) è¿›è¡Œæ°¸ä¹…ä¿®å¤ã€‚
    ```bash
    sudo docker-compose up -d --build
    ```
    *ç¬¬ä¸€æ¬¡è¿è¡Œå¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´æ¥ä¸‹è½½é•œåƒå’Œæ„å»ºåº”ç”¨ã€‚*

4.  **è®¿é—®ç³»ç»Ÿ**
    å¯åŠ¨å®Œæˆåï¼Œé€šè¿‡æµè§ˆå™¨è®¿é—®ï¼š
    *   **å‰ç«¯é¡µé¢**: `http://localhost` (æˆ– `http://127.0.0.1`)
    *   **åç«¯ API**: `http://localhost/api` (é€šè¿‡ Nginx è½¬å‘)

### é»˜è®¤è´¦å·

ç³»ç»Ÿé¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆå§‹åŒ–ä»¥ä¸‹è´¦å·ï¼š

*   **ç®¡ç†å‘˜**: `admin@gateway.com` / `adminpassword`
*   **æµ‹è¯•ç”¨æˆ·**: `user@example.com` / `userpassword`

---

## ğŸ› ï¸ æœ¬åœ°å¼€å‘æŒ‡å— (ä¸ä½¿ç”¨ Docker)

å¦‚æœä½ éœ€è¦è¿›è¡Œä»£ç å¼€å‘æˆ–è°ƒè¯•ï¼Œå¯ä»¥åœ¨æœ¬åœ°åˆ†åˆ«è¿è¡Œå‰åç«¯æœåŠ¡ã€‚

### å‰ç½®æ¡ä»¶
*   Node.js v18+
*   PostgreSQL v14+ (éœ€æ‰‹åŠ¨å®‰è£…å¹¶è¿è¡Œ)

### 1. æ•°æ®åº“è®¾ç½®
åˆ›å»ºä¸€ä¸ªåä¸º `gateway` çš„ PostgreSQL æ•°æ®åº“ã€‚

### 2. åç«¯å¯åŠ¨ (Backend)
```bash
cd backend
npm install

# å¤åˆ¶ç¯å¢ƒå˜é‡æ–‡ä»¶ (æ ¹æ®éœ€è¦ä¿®æ”¹ .env å†…å®¹)
cp .env.example .env 

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run start:dev
```
åç«¯æœåŠ¡å°†è¿è¡Œåœ¨ `http://localhost:3000`ã€‚

### 3. å‰ç«¯å¯åŠ¨ (Frontend)
```bash
cd frontend
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```
å‰ç«¯æœåŠ¡é€šå¸¸è¿è¡Œåœ¨ `http://localhost:5173`ã€‚

---

## ğŸ“‚ ç›®å½•ç»“æ„

*   `backend/`: NestJS åç«¯ä»£ç 
*   `frontend/`: Vue 3 + Vite å‰ç«¯ä»£ç 
*   `doc/`: é¡¹ç›®æ–‡æ¡£ï¼ˆåŒ…å«éœ€æ±‚ã€è®¾è®¡ã€éƒ¨ç½²è¯´æ˜ç­‰ï¼‰
*   `docker-compose.yml`: Docker ç¼–æ’æ–‡ä»¶

## ğŸ“š æ›´å¤šæ–‡æ¡£

è¯¦ç»†çš„éƒ¨ç½²è¯´æ˜ã€æ“ä½œæ‰‹å†Œå’Œè®¾è®¡æ–‡æ¡£è¯·æŸ¥é˜… `doc/` ç›®å½•ï¼š
*   [éƒ¨ç½²è¯´æ˜æ–‡æ¡£](doc/éƒ¨ç½²è¯´æ˜æ–‡æ¡£.md)
*   [æ“ä½œæµç¨‹](doc/æ“ä½œæµç¨‹.md)